<ng-container *ngIf="recipe; else actionRecipe">
  <mat-card class="h-full cursor-pointer transition-colors duration-300 gray-hover recipe-card m-auto">
    <mat-card-subtitle><span class="p-2">RECIPE</span></mat-card-subtitle>
    <mat-card-title>
      <span class="w-full px-2 line-clamp-1" [title]="recipe.title | titlecase">{{ recipe.title | titlecase }}</span>
    </mat-card-title>
    <img class="!w-full p-2 max-h-56" mat-card-xl-image [src]="recipe.image" *ngIf="recipe?.image; else defaultImage" />
    <mat-card-content>
      <mat-chip-set class="p-2">
        <ng-container *ngFor="let tag of recipe.tags">
          <mat-chip *ngIf="tag?.value?.length! > 0">
            {{ tag.value }}
          </mat-chip>
        </ng-container>
      </mat-chip-set>
    </mat-card-content>
    <mat-card-actions class="justify-between mt-auto">
      <button mat-flat-button (click)="$event.stopPropagation(); addToGlist.emit(recipe)">
        <mat-icon>add</mat-icon>
        Add to Glist
      </button>
      <button mat-icon-button (click)="$event.stopPropagation(); favoriteClicked.emit(recipe)">
        <mat-icon>{{ recipe.isFavorited ? favoritedRecipeText : unfavoritedRecipeText }}</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
</ng-container>

<ng-template #actionRecipe>
  <mat-card class="h-full cursor-pointer transition-colors duration-300 gray-hover">
    <mat-card-subtitle><span class="p-2">RECIPE</span></mat-card-subtitle>
    <mat-card-title>
      <span class="p-2 text-grey-500">Recipe Title</span>
    </mat-card-title>
    <ng-container *ngTemplateOutlet="defaultImage"></ng-container>
    <mat-card-content>
      <mat-chip-set class="p-2">
        <mat-chip [disabled]="true"> None </mat-chip>
      </mat-chip-set>
    </mat-card-content>
    <mat-card-actions class="justify-between mt-auto">
      <button mat-flat-button (click)="$event.stopPropagation()" [disabled]="true">
        <mat-icon>add</mat-icon>
        Add to Glist
      </button>
    </mat-card-actions>
  </mat-card></ng-template
>

<ng-template #defaultImage>
  <img class="material-icons !w-full p-2 max-h-56 bg-[#F2F2F2]" src="/assets/ramen_dining.svg" />
</ng-template>
